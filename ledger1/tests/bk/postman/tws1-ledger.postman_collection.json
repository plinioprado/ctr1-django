{
	"info": {
		"_postman_id": "eb2cb9c8-d20c-4f1c-8d67-515e65bef381",
		"name": "tws1-ledger",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "14675761",
		"_collection_link": "https://warped-trinity-715604.postman.co/workspace/ctr~2fc9ccce-c4d8-4167-aa27-12260dc6cb3c/collection/14675761-eb2cb9c8-d20c-4f1c-8d67-515e65bef381?action=share&source=collection_link&creator=14675761"
	},
	"item": [
		{
			"name": "get one account",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"pm.test('got account', function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.eql({",
							"        \"message\": \"ok\",",
							"        \"data\": [",
							"            {",
							"                \"num\": \"1.1.2\",",
							"                \"name\": \"checking account\",",
							"                \"dc\": true",
							"            }",
							"        ]",
							"    });",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "12345",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://localhost:8000/ledger/accounts/112",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8000",
					"path": [
						"ledger",
						"accounts",
						"112"
					]
				}
			},
			"response": []
		},
		{
			"name": "post account",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"pm.test('account created', function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.eql({",
							"        \"message\": \"account 9.9.9 created\",",
							"    });",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "12345",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"num\": \"9.9.9\",\n    \"name\": \"test\",\n    \"dc\": true\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://localhost:8000/ledger/accounts/",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8000",
					"path": [
						"ledger",
						"accounts",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "put account",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"pm.test('account updated', function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.eql({",
							"        \"message\": \"account 9.9.9 updated\",",
							"    });",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "12345",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "PUT",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"num\": \"9.9.9\",\n    \"name\": \"test2\",\n    \"dc\": false\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://localhost:8000/ledger/accounts/",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8000",
					"path": [
						"ledger",
						"accounts",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "delete account",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"pm.test('account deleted', function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.eql({",
							"        \"message\": \"account 9.9.9 deleted\",",
							"    });",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "12345",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "http://localhost:8000/ledger/accounts/999",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8000",
					"path": [
						"ledger",
						"accounts",
						"999"
					]
				}
			},
			"response": []
		},
		{
			"name": "get many transactions",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"pm.test('got message', function () {",
							"    var message = pm.response.json().message;",
							"    pm.expect(message).to.eql(\"ok\")",
							"})",
							"pm.test('got transaction', function () {",
							"    var data = pm.response.json().data;",
							"    pm.expect(data[0]).to.eql({",
							"        \"num\": 1,",
							"        \"date\": \"2020-01-02\",",
							"        \"descr\": \"capital contribution john doe\",",
							"        \"seq\": 1,",
							"        \"account\": \"1.1.2\",",
							"        \"val\": 10000.0,",
							"        \"dc\": true,",
							"        \"doc\": {",
							"                \"type\": \"\",",
							"                \"num\": \"\",",
							"            }",
							"        });",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "12345",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://localhost:8000/ledger/transactions/",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8000",
					"path": [
						"ledger",
						"transactions",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "get one transaction",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"pm.test('got message', function () {",
							"    var message = pm.response.json()['message'];",
							"    pm.expect(message).to.eql(\"ok\")",
							"})",
							"pm.test('got data', function () {",
							"    var data = pm.response.json()['data'];",
							"    pm.expect(data).to.eql({",
							"            \"num\": 1,",
							"            \"date\": \"2020-01-02\",",
							"            \"descr\": \"capital contribution john doe\",",
							"            \"seqs\": [",
							"                {",
							"                    \"account\": \"1.1.2\",",
							"                    \"val\": 10000.0,",
							"                    \"dc\": true,",
							"                    \"doc\": {",
							"                        \"type\": \"\",",
							"                        \"num\": \"\"",
							"                    }",
							"                },",
							"                {",
							"                    \"account\": \"2.3.1\",",
							"                    \"val\": 10000.0,",
							"                    \"dc\": false,",
							"                    \"doc\": {",
							"                        \"type\": \"\",",
							"                        \"num\": \"\"",
							"                    }",
							"                }",
							"            ]",
							"        } ",
							"    )",
							"})",
							"pm.test('got options', function () {",
							"    var options = pm.response.json()['options'];",
							"    pm.expect(options.accounts[0]).to.eql({",
							"                \"value\": \"1.0.0\",",
							"                \"text\": \"assets\"",
							"            })",
							"})"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "12345",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://localhost:8000/ledger/transactions/1",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8000",
					"path": [
						"ledger",
						"transactions",
						"1"
					]
				}
			},
			"response": []
		},
		{
			"name": "get default transaction",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"pm.test('got message', function () {",
							"    var message = pm.response.json()['message'];",
							"    pm.expect(message).to.eql(\"ok\")",
							"})",
							"pm.test('got data', function () {",
							"    var data = pm.response.json()['data'];",
							"    pm.expect(data).to.eql({",
							"            \"num\": \"new\",",
							"            \"date\": \"\",",
							"            \"descr\": \"\",",
							"            \"seqs\": [",
							"                {",
							"                    \"account\": \"\",",
							"                    \"val\": 0,",
							"                    \"dc\": true,",
							"                    \"doc\": {",
							"                        \"type\": \"\",",
							"                        \"num\": \"\"",
							"                    }",
							"                },",
							"                {",
							"                    \"account\": \"\",",
							"                    \"val\": 0,",
							"                    \"dc\": true,",
							"                    \"doc\": {",
							"                        \"type\": \"\",",
							"                        \"num\": \"\"",
							"                    }",
							"                }",
							"            ]",
							"        } ",
							"    )",
							"})",
							"pm.test('got account options', function () {",
							"    var options = pm.response.json().options.accounts;",
							"    pm.expect(options[0]).to.eql({",
							"                \"value\": \"1.0.0\",",
							"                \"text\": \"assets\"",
							"            })",
							"})"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "12345",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://localhost:8000/ledger/transactions/0",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8000",
					"path": [
						"ledger",
						"transactions",
						"0"
					]
				}
			},
			"response": []
		},
		{
			"name": "post transaction",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"pm.test('message', function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.message).to.eql(\"transaction 8 created\");",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "12345",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"date\": \"2020-01-25\",\n    \"descr\": \"sale to test ltd\",\n    \"seqs\": [\n        {\n            \"account\": \"3.1.1\",\n            \"val\": 1000,\n            \"dc\": true,\n            \"doc\": {\n                \"type\": \"inv\",\n                \"num\": \"2\"\n            }\n        },\n        {\n            \"account\": \"1.1.3\",\n            \"val\": 1000,\n            \"dc\": false,\n            \"doc\": {\n                \"type\": \"\",\n                \"num\": \"\"\n            }\n        }\n    ]\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://localhost:8000/ledger/transactions/",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8000",
					"path": [
						"ledger",
						"transactions",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "put transaction",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"pm.test('account created', function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.eql({",
							"        \"message\": \"transaction 8 updated\",",
							"    });",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "12345",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "PUT",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"num\": 8,\n    \"date\": \"2020-01-25\",\n    \"descr\": \"sale to test ltdxxx\",\n    \"seqs\": [\n        {\n            \"seq\": 1,\n            \"account\": \"3.1.1\",\n            \"val\": 1001,\n            \"dc\": true,\n            \"doc\": {\n                \"type\": \"inv\",\n                \"num\": \"3\"\n            }\n        },\n        {\n            \"seq\": 2,\n            \"account\": \"1.1.3\",\n            \"val\": 1001,\n            \"dc\": false,\n            \"doc\": {\n                \"type\": \"\",\n                \"num\": \"\"\n            }\n        }\n    ]\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://localhost:8000/ledger/transactions/",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8000",
					"path": [
						"ledger",
						"transactions",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "delete transaction",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"pm.test('account created', function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData).to.eql({",
							"        \"message\": \"transaction 8 deleted\",",
							"    });",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "12345",
							"type": "string"
						},
						{
							"key": "username",
							"value": "admin",
							"type": "string"
						}
					]
				},
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "http://localhost:8000/ledger/transactions/8",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "8000",
					"path": [
						"ledger",
						"transactions",
						"8"
					]
				}
			},
			"response": []
		}
	]
}